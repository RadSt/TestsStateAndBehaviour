"use strict";
import sinon from 'sinon';
import { Shop } from'./src/pizza/shop.js';
import { Pizza } from'./src/pizza/pizza.js';

suite('client order pizza', function () {
    suite('client birthdayDay', function () {
        test('shop give discount to client', function () {
            let clientStub = {
                isBirthdayToday: function () {
                    return true;
                }
            };

            let shop = new Shop();
            let pizza = new Pizza("margarita");
            let discountVolume = 0;

            let shopMock = sinon.mock(shop);
            shopMock.expects('getDrink')
                .withArgs(clientStub, pizzaType)
                .once()
                .returns(discountVolume > 0);

            let order = new Order(clientStub, pizza);

            let discountVolume = order.getDiscount()

            cupboardMock.verify();
        });
    });
});